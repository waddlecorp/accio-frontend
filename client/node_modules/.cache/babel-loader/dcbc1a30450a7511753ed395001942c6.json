{"ast":null,"code":"var _jsxFileName = \"/workspace/sorigpt/client/src/components/Chat/Chat.jsx\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect, useCallback, useMemo, memo } from 'react';\nimport TextField from '@mui/material/TextField';\nimport Button from '@mui/material/Button';\nimport List from '@mui/material/List';\nimport Container from '@mui/material/Container';\nimport Box from '@mui/material/Box';\nimport Message from '../Message';\nimport style from './Chat.module.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Chat = _ref => {\n  _s();\n\n  let {\n    messages,\n    submitMessage,\n    myId\n  } = _ref;\n  const [input, setInput] = useState('');\n  const messagesEndRef = useRef(null);\n  const onChange = useCallback(e => {\n    setInput(e.currentTarget.value);\n  }, []);\n  const onClick = useCallback(() => {\n    submitMessage(input);\n    setInput('');\n  }, [input, submitMessage]);\n  const scrollToBottom = useCallback(() => {\n    var _messagesEndRef$curre;\n\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: 'smooth'\n    });\n  }, [messages]);\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages, scrollToBottom]);\n  const renderedMessages = useMemo(() => messages.map((_ref2, index) => {\n    let {\n      userId,\n      message\n    } = _ref2;\n    return /*#__PURE__*/_jsxDEV(Message, {\n      userId: userId,\n      myId: myId,\n      text: message,\n      showName: !index || messages[index - 1].userId !== userId\n    }, `${userId}_${index}`, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 9\n    }, this);\n  }), [messages, myId]);\n  return /*#__PURE__*/_jsxDEV(Container, {\n    maxWidth: \"md\",\n    className: style.Chat__wrapper,\n    children: [/*#__PURE__*/_jsxDEV(List, {\n      className: style.Chat__list,\n      children: [renderedMessages, /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: messagesEndRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      className: style.Chat__input,\n      children: [/*#__PURE__*/_jsxDEV(TextField, {\n        className: style.Chat__input__textfield,\n        onChange: onChange,\n        value: input,\n        placeholder: \"\\uBA54\\uC2DC\\uC9C0\\uB97C \\uC785\\uB825\\uD558\\uC138\\uC694.\",\n        onKeyPress: e => e.key === 'Enter' ? onClick() : null\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: onClick,\n        variant: \"outlined\",\n        className: style.Chat__input__button,\n        children: \"\\uC804\\uC1A1\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Chat, \"BOyc9KUz+WYreraGqlTfqVaWMRI=\");\n\n_c = Chat;\nexport default _c2 = /*#__PURE__*/memo(Chat);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Chat\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"names":["useState","useEffect","useCallback","useMemo","memo","TextField","Button","List","Container","Box","Message","style","Chat","messages","submitMessage","myId","input","setInput","messagesEndRef","useRef","onChange","e","currentTarget","value","onClick","scrollToBottom","current","scrollIntoView","behavior","renderedMessages","map","index","userId","message","Chat__wrapper","Chat__list","Chat__input","Chat__input__textfield","key","Chat__input__button"],"sources":["/workspace/sorigpt/client/src/components/Chat/Chat.jsx"],"sourcesContent":["import { useState, useEffect, useCallback, useMemo, memo } from 'react';\nimport TextField from '@mui/material/TextField';\nimport Button from '@mui/material/Button';\nimport List from '@mui/material/List';\nimport Container from '@mui/material/Container';\nimport Box from '@mui/material/Box';\nimport Message from '../Message';\nimport style from './Chat.module.scss';\n\nconst Chat = ({ messages, submitMessage, myId }) => {\n  const [input, setInput] = useState('');\n  const messagesEndRef = useRef(null);\n\n  const onChange = useCallback((e) => {\n    setInput(e.currentTarget.value);\n  }, []);\n\n  const onClick = useCallback(() => {\n    submitMessage(input);\n    setInput('');\n  }, [input, submitMessage]);\n\n  const scrollToBottom = useCallback(() => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  }, [messages]);\n\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages, scrollToBottom]);\n\n  const renderedMessages = useMemo(\n    () =>\n      messages.map(({ userId, message }, index) => (\n        <Message\n          key={`${userId}_${index}`}\n          userId={userId}\n          myId={myId}\n          text={message}\n          showName={!index || messages[index - 1].userId !== userId}\n        />\n      )),\n    [messages, myId]\n  );\n\n  return (\n    <Container maxWidth=\"md\" className={style.Chat__wrapper}>\n      <List className={style.Chat__list}>\n        {renderedMessages}\n        <div ref={messagesEndRef} />\n      </List>\n      <Box\n        display=\"flex\"\n        alignItems=\"center\"\n        justifyContent=\"center\"\n        className={style.Chat__input}\n      >\n        <TextField\n          className={style.Chat__input__textfield}\n          onChange={onChange}\n          value={input}\n          placeholder=\"메시지를 입력하세요.\"\n          onKeyPress={(e) => (e.key === 'Enter' ? onClick() : null)}\n        />\n        <Button\n          onClick={onClick}\n          variant=\"outlined\"\n          className={style.Chat__input__button}\n        >\n          전송\n        </Button>\n      </Box>\n    </Container>\n  );\n};\n\nexport default memo(Chat);"],"mappings":"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"},"metadata":{},"sourceType":"module"}