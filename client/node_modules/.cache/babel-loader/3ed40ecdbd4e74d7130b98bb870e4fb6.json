{"ast":null,"code":"var _jsxFileName = \"/workspace/sorigpt/client/src/components/Chat/Chat.jsx\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect, useRef } from 'react';\nimport TextField from '@mui/material/TextField';\nimport Button from '@mui/material/Button';\nimport List from '@mui/material/List';\nimport Container from '@mui/material/Container';\nimport Stack from '@mui/material/Stack';\nimport Message from '../Message';\nimport style from './Chat.module.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Chat = _ref => {\n  _s();\n\n  let {\n    messages,\n    submitMessage,\n    myId\n  } = _ref;\n  const [input, setInput] = useState('');\n  const messagesEndRef = useRef(null);\n\n  const onChange = e => {\n    setInput(e.currentTarget.value);\n  };\n\n  const onClick = () => {\n    submitMessage(input);\n    setInput('');\n  };\n\n  const scrollToBottom = () => {\n    var _messagesEndRef$curre;\n\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: \"smooth\"\n    });\n  };\n\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n  return /*#__PURE__*/_jsxDEV(Container, {\n    maxWidth: \"md\",\n    className: style.Chat__wrapper,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: style.Chat__content,\n      children: [/*#__PURE__*/_jsxDEV(List, {\n        className: style.Chat__list,\n        children: [messages.map((_ref2, index) => {\n          let {\n            userId,\n            message\n          } = _ref2;\n          return /*#__PURE__*/_jsxDEV(Message, {\n            userId: userId,\n            myId: myId,\n            text: message,\n            showName: !index || messages[index - 1].userId !== userId\n          }, `${userId}_${index}`, false, {\n            fileName: _jsxFileName,\n            lineNumber: 38,\n            columnNumber: 11\n          }, this);\n        }), /*#__PURE__*/_jsxDEV(\"div\", {\n          ref: messagesEndRef\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 5\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Stack, {\n        direction: \"row\",\n        className: style.Chat__input,\n        children: [/*#__PURE__*/_jsxDEV(TextField, {\n          className: style.Chat__input__textfield,\n          onChange: onChange,\n          value: input,\n          placeholder: \"\\uBA54\\uC2DC\\uC9C0\\uB97C \\uC785\\uB825\\uD558\\uC138\\uC694.\",\n          onKeyPress: e => e.key === \"Enter\" ? onClick() : null\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: onClick,\n          variant: \"outlined\",\n          className: style.Chat__input__button,\n          children: \"\\uC804\\uC1A1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Chat, \"X/z4qmiNhorkSBII6TQsWlgEcpQ=\");\n\n_c = Chat;\nexport default Chat;\n\nvar _c;\n\n$RefreshReg$(_c, \"Chat\");","map":{"version":3,"names":["useState","useEffect","useRef","TextField","Button","List","Container","Stack","Message","style","Chat","messages","submitMessage","myId","input","setInput","messagesEndRef","onChange","e","currentTarget","value","onClick","scrollToBottom","current","scrollIntoView","behavior","Chat__wrapper","Chat__content","Chat__list","map","index","userId","message","Chat__input","Chat__input__textfield","key","Chat__input__button"],"sources":["/workspace/sorigpt/client/src/components/Chat/Chat.jsx"],"sourcesContent":["import { useState, useEffect, useRef } from 'react';\n\nimport TextField from '@mui/material/TextField';\nimport Button from '@mui/material/Button';\nimport List from '@mui/material/List';\nimport Container from '@mui/material/Container';\nimport Stack from '@mui/material/Stack';\n\nimport Message from '../Message';\nimport style from './Chat.module.scss';\n\nconst Chat = ({messages, submitMessage, myId}) => {\n    const [input, setInput] = useState('');\n    const messagesEndRef = useRef(null);\n\n    const onChange = (e) => {\n        setInput(e.currentTarget.value);\n    }\n    \n    const onClick = () => {\n        submitMessage(input);\n        setInput('');\n    }\n\n    const scrollToBottom = () => {\n        messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\n    };\n    \n    useEffect(() => {\n        scrollToBottom();\n    }, [messages]);\n\n    return (\n        <Container maxWidth=\"md\" className={style.Chat__wrapper}>\n\t\t\t<div className={style.Chat__content}>\n\t\t\t\t<List className={style.Chat__list} >\n\t\t\t\t\t{messages.map(({userId, message}, index) => \n\t\t\t\t\t\t\t\t  <Message \n\t\t\t\t\t\t\t\t\t  key={`${userId}_${index}`}\n\t\t\t\t\t\t\t\t\t  userId={userId}\n\t\t\t\t\t\t\t\t\t  myId={myId}\n\t\t\t\t\t\t\t\t\t  text={message}\n\t\t\t\t\t\t\t\t\t  showName={!index || messages[index - 1].userId !== userId}\n\t\t\t\t\t\t\t\t  />\n\t\t\t\t\t\t\t\t )}\n\t\t\t\t<div ref={messagesEndRef} />\n\t\t\t\t</List>\n\t\t\t\t<Stack direction=\"row\" className={style.Chat__input}>\n\t\t\t\t\t<TextField \n\t\t\t\t\t\tclassName={style.Chat__input__textfield}\n\t\t\t\t\t\tonChange={onChange} \n\t\t\t\t\t\tvalue={input} \n\t\t\t\t\t\tplaceholder=\"메시지를 입력하세요.\" \n\t\t\t\t\t\tonKeyPress={(e) => (e.key === \"Enter\" ? onClick() : null)}\n\t\t\t\t\t/>\n\t\t\t\t\t<Button onClick={onClick} variant=\"outlined\" className={style.Chat__input__button}>전송</Button>\n\t\t\t\t</Stack>\n\t\t\t</div>\n        </Container>\n    )\n}\n\nexport default Chat;"],"mappings":";;;AAAA,SAASA,QAAT,EAAmBC,SAAnB,EAA8BC,MAA9B,QAA4C,OAA5C;AAEA,OAAOC,SAAP,MAAsB,yBAAtB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,IAAP,MAAiB,oBAAjB;AACA,OAAOC,SAAP,MAAsB,yBAAtB;AACA,OAAOC,KAAP,MAAkB,qBAAlB;AAEA,OAAOC,OAAP,MAAoB,YAApB;AACA,OAAOC,KAAP,MAAkB,oBAAlB;;;AAEA,MAAMC,IAAI,GAAG,QAAqC;EAAA;;EAAA,IAApC;IAACC,QAAD;IAAWC,aAAX;IAA0BC;EAA1B,CAAoC;EAC9C,MAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBf,QAAQ,CAAC,EAAD,CAAlC;EACA,MAAMgB,cAAc,GAAGd,MAAM,CAAC,IAAD,CAA7B;;EAEA,MAAMe,QAAQ,GAAIC,CAAD,IAAO;IACpBH,QAAQ,CAACG,CAAC,CAACC,aAAF,CAAgBC,KAAjB,CAAR;EACH,CAFD;;EAIA,MAAMC,OAAO,GAAG,MAAM;IAClBT,aAAa,CAACE,KAAD,CAAb;IACAC,QAAQ,CAAC,EAAD,CAAR;EACH,CAHD;;EAKA,MAAMO,cAAc,GAAG,MAAM;IAAA;;IACzB,yBAAAN,cAAc,CAACO,OAAf,gFAAwBC,cAAxB,CAAuC;MAAEC,QAAQ,EAAE;IAAZ,CAAvC;EACH,CAFD;;EAIAxB,SAAS,CAAC,MAAM;IACZqB,cAAc;EACjB,CAFQ,EAEN,CAACX,QAAD,CAFM,CAAT;EAIA,oBACI,QAAC,SAAD;IAAW,QAAQ,EAAC,IAApB;IAAyB,SAAS,EAAEF,KAAK,CAACiB,aAA1C;IAAA,uBACL;MAAK,SAAS,EAAEjB,KAAK,CAACkB,aAAtB;MAAA,wBACC,QAAC,IAAD;QAAM,SAAS,EAAElB,KAAK,CAACmB,UAAvB;QAAA,WACEjB,QAAQ,CAACkB,GAAT,CAAa,QAAoBC,KAApB;UAAA,IAAC;YAACC,MAAD;YAASC;UAAT,CAAD;UAAA,oBACT,QAAC,OAAD;YAEC,MAAM,EAAED,MAFT;YAGC,IAAI,EAAElB,IAHP;YAIC,IAAI,EAAEmB,OAJP;YAKC,QAAQ,EAAE,CAACF,KAAD,IAAUnB,QAAQ,CAACmB,KAAK,GAAG,CAAT,CAAR,CAAoBC,MAApB,KAA+BA;UALpD,GACO,GAAEA,MAAO,IAAGD,KAAM,EADzB;YAAA;YAAA;YAAA;UAAA,QADS;QAAA,CAAb,CADF,eAUA;UAAK,GAAG,EAAEd;QAAV;UAAA;UAAA;UAAA;QAAA,QAVA;MAAA;QAAA;QAAA;QAAA;MAAA,QADD,eAaC,QAAC,KAAD;QAAO,SAAS,EAAC,KAAjB;QAAuB,SAAS,EAAEP,KAAK,CAACwB,WAAxC;QAAA,wBACC,QAAC,SAAD;UACC,SAAS,EAAExB,KAAK,CAACyB,sBADlB;UAEC,QAAQ,EAAEjB,QAFX;UAGC,KAAK,EAAEH,KAHR;UAIC,WAAW,EAAC,0DAJb;UAKC,UAAU,EAAGI,CAAD,IAAQA,CAAC,CAACiB,GAAF,KAAU,OAAV,GAAoBd,OAAO,EAA3B,GAAgC;QALrD;UAAA;UAAA;UAAA;QAAA,QADD,eAQC,QAAC,MAAD;UAAQ,OAAO,EAAEA,OAAjB;UAA0B,OAAO,EAAC,UAAlC;UAA6C,SAAS,EAAEZ,KAAK,CAAC2B,mBAA9D;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QARD;MAAA;QAAA;QAAA;QAAA;MAAA,QAbD;IAAA;MAAA;MAAA;MAAA;IAAA;EADK;IAAA;IAAA;IAAA;EAAA,QADJ;AA4BH,CAjDD;;GAAM1B,I;;KAAAA,I;AAmDN,eAAeA,IAAf"},"metadata":{},"sourceType":"module"}